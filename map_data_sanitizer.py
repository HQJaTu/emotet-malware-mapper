#!/usr/bin/env python3

# vim: autoindent tabstop=4 shiftwidth=4 expandtab softtabstop=4 filetype=python

import argparse
import json


def read_json(filename):
    with open(filename, "r") as read_file:
        data = json.load(read_file)

    return data


def write_json(filename, output):
    with open(filename, 'w') as f:
        json.dump(output, f)


def main():
    parser = argparse.ArgumentParser(description='Hostname extractor')
    parser.add_argument('host_info_json_file_in', metavar='JSON-FILE',
                        help='JSON data of mapper.py')
    parser.add_argument('host_info_json_file_out', metavar='OUTPUT-JSON-FILE',
                        help='JSON data without hostnames and IP-addresses')
    args = parser.parse_args()

    # Prepare
    output = read_json(args.host_info_json_file_in)
    for epoch in output:
        for category in output[epoch]:
            for data in output[epoch][category]:
                data[0] = None
                data[1] = None

    # Go produce a JSON-result of the hard work done
    write_json(args.host_info_json_file_out, output)


if __name__ == '__main__':
    main()
